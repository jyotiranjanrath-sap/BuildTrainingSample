"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ApplicationSegment = void 0;
const ErrorMessage_1 = require("../../../common/ErrorMessage");
const Context_1 = require("../Context");
const ISegment_1 = require("./ISegment");
/**
 * Represents an application segment. An application segment must start with #Application.
 */
class ApplicationSegment extends ISegment_1.ISegment {
    /**
     * Tries to resolve the segment string given the context.
     * @returns {IContext} - The result of the evaluation.
     * If the evaulation is successful, a context bound to the result is returned.
     * If the process fails, an exception is thrown.
     */
    resolve() {
        this.validateContext();
        let result = new Context_1.Context();
        result.binding = {};
        result.element = {};
        result.clientData = {};
        result.clientData.UserId = '';
        result.clientData.DeviceId = '';
        return Promise.resolve(result);
    }
    isSpecifierRequired() {
        return false;
    }
    validateContext() {
        if (this.context.element || this.context.binding) {
            throw new Error(ErrorMessage_1.ErrorMessage.format(ErrorMessage_1.ErrorMessage.INVALID_CONTEXT_FOR_SEGMENT, 'Application'));
        }
    }
}
exports.ApplicationSegment = ApplicationSegment;
//# sourceMappingURL=ApplicationSegment.js.map